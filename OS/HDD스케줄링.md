## 하드디스크(HDD) 스케줄링

물리적 원판이 돌면서 데이터를 읽기 때문에 전기적 신호로 읽는 메모리보다 매우 느리다. 디스크 액세스를 최소화 하고자 하는 것이 핵심

### 디스크 구성

- 트랙(Track): 데이터가 기록되어있는 동심원(띠)
- 섹터(Sector): 디스크의 기본 단위(구역)
- 플래터(Platter): 원판 자체를 말함
- 실린더(Cylinder): 여러 플래터들 중 반지름이 같은 부분의 집합
- 헤드(Head) & 팔(?Arm): 돌고있는 원판을 찝어서 읽고 쓰고
- 스핀들(Spindle): 모터가 달려있는 회전축, RPM

### 오버헤드

- Rotational Delay: 내가 찾는 섹터를 위해 디스크가 회전하기를 기다리는 딜레이
- Seek Time: 헤드가 원하는 트랙으로 움직이는 시간
- Transfer Time: 데이터를 읽/쓰 후 전송하는 시간, 위 두 시간에 비하면 극미량이라 신경 안써도 된다.
- 즉, 디스크 스케쥴링이란, Seek Time, Rotational Delay를 최소화 하고자 하는 것.
    - 하지만, 일반적으로 Rotational Delay를 OS가 예측하기는 힘들다. 따라서 대부분 Seek Time을 최소화 하는 것을 목표로 한다.
- 디스크 액세스 요청은 디스크 드라이버 내부의 레디큐에 저장되어 있음. 
    - 현재 헤드의 위치와, 레디큐의 상태에 따라 다음 트랙의 위치를 구하는 것. 헤드의 움직임을 최소화 하고자 하는 것들. -> 디스크 스케줄링

### 디스크 스케쥴링 알고리즘 종류
- FCFS(First come First Served): 요청이 들어온 순서대로
    - Seek Time에 대한 오버헤드가 크다. 헤드가 너무 많이 움직여야함 (long seek distance)
- SSTF(shortest seek time first): 헤드의 현재 위치에서 가장 헤드가 덜 움직여도 되는 트랙으로 이동
    - 그리디 알고리즘의 일종.
    - **Starvation** 문제를 야기시킬 수 있음. → 현재 헤드 위치에서 주변에 있는 트랙의 데이터 액세스 요청이 계속 들어오면, 가장 멀리 있는 트랙으로는 아예 가지 않게 되는 문제.
- SCAN: 한쪽 방향으로 이동하며 요청을 모두 처리한다. 트랙의 끝에 도달하면 방향을 바꿔서 이동하며 모든 요청을 처리한다.
    - 엘레베이터 알고리즘으로 불린다.
- C-SCAN: SCAN의 변형버전. SCAN은 양쪽으로 움직인다면 C-SCAN은 **한 방향**으로만 움직인다. 즉 끝에 다다르면 다시 맨 처음으로 헤드를 이동하여 시작한다.
    - 모든 요청들이 SCAN에 비하여 공평한 대기시간(uniform wait time)을 갖게 된다.
- C-LOOK: C-SCAN을 개조한 버전. 끝까지 헤드를 움직이는게 아니라 들어온 요청의 마지막까지만 이동하고 헤드를 맨 처음요청으로 이동시킴. 굳이 끝까지 가지 않음으로 헤드의 불필요한 이동을 그나마 줄인 버전.
