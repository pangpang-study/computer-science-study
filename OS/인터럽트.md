## 인터럽트란?

- CPU 실행을 중지시킬 수 있는 **이벤트** 전부 싹다 인터럽트라고 함. 즉, CPU 실행 흐름을 바꿔버리는 것.
- 크게 3가지로 나눌 수 있음
    - 외부 인터럽트
    - 내부 인터럽트
    - 소프트웨어 인터럽트: SVC라는게 있다는데 자세히는 모르겠어서 패스.
- 인터럽트 핸들러, 인터럽트 서비스 루틴(ISR)
    - 둘이 같은 개념이고, 인터럽트가 발생하면 OS가 처리하는 프로그램(코드)을 뜻함.
- 인터럽트 벡터 테이블
    - 인터럽트 종류와 핸들러가 맵핑되어있는 테이블. 이것도 결국 OS커널 코드임

## 외부 인터럽트

- 전원 이상 인터럽트: 갑자기 파워가 나가면 이를 감지하고 CPU한테 이를 알려준다. 안전하게 데이터를 저장할 정도의 여분 배터리를 사용하여 처리
- I/O 인터럽트: CPU가 외부 장치(키보드, 프린터, 마우스 등)에게 일을 맞기고, 그 일이 끝났음을 알리기 위한 이벤트. 즉, 디바이스가 CPU에게 무언가를 알리는 것.
    - 흔히 알고 있는 I/O 이벤트에 속하고, HW인터럽트로 알고 있는 부분이다.
    - **Polling**과 대비되는 개념이 여기서 발생하는 인터럽트임
    - **DMA**도 여기서 연계되는 개념
- 타이머 인터럽트: OS가 일정시간마다 CPU의 사용권한을 뻇어오는 것.
    - OS가 CPU 스케줄링을 하기 위해 사용. Preemption과 연계.

## 내부 인터럽트

- Exception(예외): CPU가 수행할 수 없는 명령어(Instruction)을 만났을 때 OS에게 도와달라고 요청. 즉, CPU가 자기 스스로에게 인터럽트를 발생시키는 것. OS 인터럽트 핸들러를 호출하기 위해서.
    - ex: 0으로 나누는 경우
    - **trap** 이라고 하기도 함. **system call**에서 user mode → kernel mode로 넘어가기 위해 발생하는 trap과 동일한 것. user mode → kernel mode로 넘어갈때 trap은 mode bit을 바꾸며 넘어간다. 수행을 마치면 return-from-trap 명령어로 mode bit를 되돌리며 user mode로 돌아온다.
